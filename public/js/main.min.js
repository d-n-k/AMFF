/*! test 30-12-2014 */

window.onload=function(){"use strict";UTILS.ajax("data/notification.txt",{method:"GET",done:function(a){document.getElementById("notification").innerHTML=a},fail:function(){document.getElementById("notification").style.display="none"}});var a,b=UTILS.qs(".tab-hdrs"),c=UTILS.qs(".expand1"),d=UTILS.qs(".expand2"),e=UTILS.qs(".expand3"),f=UTILS.qs(".expand4"),g=UTILS.qsa('a[role="tab"]'),h=UTILS.qs(".cancel_btnQ"),i=UTILS.qs(".cancel_btnM"),j=UTILS.qs(".submit_btnQ"),k=UTILS.qs(".submit_btnM"),l=UTILS.qsa("input[type=text]"),m=UTILS.qsa("input[type=url]"),n=UTILS.qs("#quick-reports"),o=UTILS.qs("#fmy-folders"),p=UTILS.qs("#my-team-folders"),q=[],r=UTILS.qs("#choose-report-selectQ"),s=UTILS.qs("#choose-report-selectM"),t=UTILS.qs(".settingsQ"),u=UTILS.qs(".settingsM"),v=JSON.parse(localStorage.getItem("storageReports"))||{},w=function(){return UTILS.qs(n.getAttribute("class").indexOf("active")>-1?"#choose-report-selectQ":"#choose-report-selectM")},x=function(){return UTILS.qs(n.getAttribute("class").indexOf("active")>-1?"#tabQ":p.getAttribute("class").indexOf("active")>-1?"#tabM":o.getAttribute("class").indexOf("active")>-1?"#tab2":"#tab4")},y=function(){return UTILS.qs(n.getAttribute("class").indexOf("active")>-1?".settingsQ":".settingsM")},z=function(){return UTILS.qs(n.getAttribute("class").indexOf("active")>-1?".content-reportsQ":".content-reportsM")},A=function(){return UTILS.qs(n.getAttribute("class").indexOf("active")>-1?".site-nameQ":".site-nameM")},B=function(a){return a.getAttribute("href").split("#")[1]},C=function(a){var b=B(a),c=document.getElementById(b);return c},D=function(){var a=location.hash.replace("panel-","");""===a&&(a=g[0].getAttribute("href"));for(var b=0;b<g.length;b++){var c=g[b],d=B(c),e=C(c);UTILS.removeClass(c,"active"),UTILS.removeClass(e,"active"),e.removeAttribute("aria-selected","true"),c.removeAttribute("aria-selected","true"),e.setAttribute("aria-hidden","false"),c.setAttribute("aria-hidden","false"),a==="#"+d&&(UTILS.addClass(c,"active"),UTILS.addClass(e,"active"),e.setAttribute("aria-selected","true"),c.setAttribute("aria-selected","true"),e.removeAttribute("aria-hidden","true"),c.removeAttribute("aria-hidden","true"))}y(),z(),A(),w(),x()},E=function(a){a.preventDefault();var b=a.target,c=B(b);location.hash="panel-"+c.replace("#","")},F=function(a){a.preventDefault();var b=a.target,c=b.getAttribute("class");UTILS.addClass(b,"activeSet"),UTILS.addClass(z(),"activeRep"),A().focus(),c.indexOf("activeSet")>-1&&(UTILS.removeClass(b,"activeSet"),UTILS.removeClass(z(),"activeRep"))},G=function(a){a.preventDefault(),UTILS.removeClass(y(),"activeSet"),UTILS.removeClass(z(),"activeRep")},H=function(a){a.preventDefault();var b=x(),c=b.src;window.open(c,"_blank"),window.focus()},I=function(a){a.preventDefault();for(var b=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,c=0;c<l.length;c++)""!==l[c].value&&""===m[c].value?(UTILS.addClass(m[c],"invalid"),m[c].focus()):""===l[c].value&&""!==m[c].value?(UTILS.addClass(l[c],"invalid"),l[c].focus()):""!==l[c].value&&""!==m[c].value&&(UTILS.removeClass(l[c],"invalid"),UTILS.removeClass(m[c],"invalid"),UTILS.addEvent(l[c],"keydown",Q),"http"!==m[c].value.substring(0,4)&&(m[c].value="http://"+m[c].value),b.test(m[c].value)?(UTILS.removeClass(m[c],"invalid"),-1===n.getAttribute("class").indexOf("active")&&c>2&&(J(w(),l[c].value,m[c].value),M(l[c],m[c]),N(w())),n.getAttribute("class").indexOf("active")>-1&&2>c&&(J(w(),l[c].value,m[c].value),M(l[c],m[c]),N(w())),w().style.display="block"):UTILS.addClass(l[c],"invalid"),UTILS.removeClass(y(),"activeSet"),UTILS.removeClass(z(),"activeRep"));UTILS.removeClass(y,"activeSet"),UTILS.removeClass(z,"activeRep")},J=function(a,b,c){if(!b||!c)return!1;if(n.getAttribute("class").indexOf("active")>-1){var d=document.createElement("option");d.text=b,d.value=c,r.add(d)}else{var d=document.createElement("option");d.text=b,d.value=c,s.add(d)}},K=function(){w().removeChild(w().firstChild)},L=function(){return Modernizr.localstorage?!0:(console.error("Your browser does not support localStorage"),!1)},M=function(b,c){L()&&(a={tab:x().offsetParent.id,name:b.value,url:c.value},q.unshift(a),localStorage.setItem("storageReports",JSON.stringify(q)))},N=function(a){if(n.getAttribute("class").indexOf("active")>-1){if(null!==a){var b=a.options[a.selectedIndex].value;UTILS.qs("#tabQ").src=b}}else if(null!==a){var b=a.options[a.selectedIndex].value;UTILS.qs("#tabM").src=b}},O=function(){for(var a=0;a<v.length;a++){if("quick-reports"===v[a].tab){var b=document.createElement("option");b.text=v[a].name,b.value=v[a].url,r.add(b)}if("my-team-folders"!==v[a].tab)return!1;var b=document.createElement("option");b.text=v[a].name,b.value=v[a].url,s.add(b)}},P=function(a){a.preventDefault();var b=a.target,c=B(b);(13===a.keyCode||32===a.keyCode)&&(location.hash="panel-"+c.replace("#",""))},Q=function(a){(46===a.keyCode||8===a.keyCode)&&K()},R=function(){localStorage.getItem("storageReports")?(UTILS.removeClass(y(),"activeSet"),UTILS.removeClass(z(),"activeRep"),""!==r.innerHTML&&(UTILS.qs("#tabQ").src=r.options[r.selectedIndex].value),""!==s.innerHTML&&(UTILS.qs("#tabM").src=s.options[s.selectedIndex].value)):(UTILS.addClass(y(),"activeSet"),UTILS.addClass(z(),"activeRep"),s.style.display="none",r.style.display="none")};D(),O(),x(),R(),UTILS.addEvent(t,"click",F),UTILS.addEvent(u,"click",F),UTILS.addEvent(h,"click",G),UTILS.addEvent(i,"click",G),UTILS.addEvent(c,"click",H),UTILS.addEvent(d,"click",H),UTILS.addEvent(e,"click",H),UTILS.addEvent(f,"click",H),UTILS.addEvent(b,"click",E),UTILS.addEvent(j,"click",I),UTILS.addEvent(k,"click",I),UTILS.addEvent(b,"keypress",P),UTILS.addEvent(window,"hashchange",D),UTILS.addEvent(w(),"change",function(){N(this)})}();
//# sourceMappingURL=main.min.js.map