/*! test 28-12-2014 */

window.onload=function(){"use strict";UTILS.ajax("data/notification.txt",{method:"GET",done:function(a){document.getElementById("notification").innerHTML=a},fail:function(){document.getElementById("notification").style.display="none"}});var a,b=UTILS.qs(".tab-hdrs"),c=UTILS.qs(".expand"),d=UTILS.qsa('a[role="tab"]'),e=UTILS.qs(".cancel_btnQ"),f=UTILS.qs(".cancel_btnM"),g=UTILS.qs(".submit_btnQ"),h=UTILS.qs(".submit_btnM"),i=UTILS.qsa("input[type=text]"),j=UTILS.qsa("input[type=url]"),k=UTILS.qs("#quick-reports"),l=[],m=UTILS.qs("#choose-report-selectQ"),n=UTILS.qs("#choose-report-selectM"),o=UTILS.qs(".settingsQ"),p=UTILS.qs(".settingsM"),q=JSON.parse(localStorage.getItem("storageReports"))||{},r=function(){return UTILS.qs(k.getAttribute("class").indexOf("active")>-1?"#choose-report-selectQ":"#choose-report-selectM")},s=function(){return UTILS.qs(k.getAttribute("class").indexOf("active")>-1?"#tabQ":"#tabM")},t=function(){return UTILS.qs(k.getAttribute("class").indexOf("active")>-1?".settingsQ":".settingsM")},u=function(){return UTILS.qs(k.getAttribute("class").indexOf("active")>-1?".content-reportsQ":".content-reportsM")},v=function(){return UTILS.qs(k.getAttribute("class").indexOf("active")>-1?".site-nameQ":".site-nameM")},w=function(a){return a.getAttribute("href").split("#")[1]},x=function(a){var b=w(a),c=document.getElementById(b);return c},y=function(){var a=location.hash.replace("panel-","");""===a&&(a=d[0].getAttribute("href"));for(var b=0;b<d.length;b++){var c=d[b],e=w(c),f=x(c);UTILS.removeClass(c,"active"),UTILS.removeClass(f,"active"),f.removeAttribute("aria-selected","true"),c.removeAttribute("aria-selected","true"),f.setAttribute("aria-hidden","false"),c.setAttribute("aria-hidden","false"),a==="#"+e&&(UTILS.addClass(c,"active"),UTILS.addClass(f,"active"),f.setAttribute("aria-selected","true"),c.setAttribute("aria-selected","true"),f.removeAttribute("aria-hidden","true"),c.removeAttribute("aria-hidden","true"))}t(),u(),v(),r(),s()},z=function(a){a.preventDefault();var b=a.target,c=w(b);location.hash="panel-"+c.replace("#","")},A=function(a){a.preventDefault();var b=a.target,c=b.getAttribute("class");UTILS.addClass(b,"activeSet"),UTILS.addClass(u(),"activeRep"),v().focus(),c.indexOf("activeSet")>-1&&(UTILS.removeClass(b,"activeSet"),UTILS.removeClass(u(),"activeRep"))},B=function(a){a.preventDefault(),UTILS.removeClass(t(),"activeSet"),UTILS.removeClass(u(),"activeRep")},C=function(a){a.preventDefault();var b=s(),c=b.src;window.open(c,"_blank"),window.focus()},D=function(a){a.preventDefault();for(var b=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,c=0;c<i.length;c++)""!==i[c].value&&""===j[c].value?(UTILS.addClass(j[c],"invalid"),j[c].focus()):""===i[c].value&&""!==j[c].value?(UTILS.addClass(i[c],"invalid"),i[c].focus()):""!==i[c].value&&""!==j[c].value&&(UTILS.removeClass(i[c],"invalid"),UTILS.removeClass(j[c],"invalid"),UTILS.addEvent(i[c],"keydown",L),"http"!==j[c].value.substring(0,4)&&(j[c].value="http://"+j[c].value),b.test(j[c].value)?(UTILS.removeClass(j[c],"invalid"),E(r(),i[c].value,j[c].value),H(i[c],j[c]),I(r()),r().style.display="block"):UTILS.addClass(i[c],"invalid"),UTILS.removeClass(t(),"activeSet"),UTILS.removeClass(u(),"activeRep"))},E=function(a,b,c){if(!b||!c)return!1;if(k.getAttribute("class").indexOf("active")>-1){var d=document.createElement("option");d.text=b,d.value=c,m.add(d)}else{var d=document.createElement("option");d.text=b,d.value=c,n.add(d)}},F=function(){r().removeChild(r().firstChild)},G=function(){return Modernizr.localstorage?!0:(console.error("Your browser does not support localStorage"),!1)},H=function(b,c){G()&&(a={tab:s().offsetParent.id,name:b.value,url:c.value},l.unshift(a),localStorage.setItem("storageReports",JSON.stringify(l)))},I=function(a){if(k.getAttribute("class").indexOf("active")>-1){if(null!==a){var b=a.options[a.selectedIndex].value;UTILS.qs("#tabQ").src=b}}else if(null!==a){var b=a.options[a.selectedIndex].value;UTILS.qs("#tabM").src=b}},J=function(){for(var a=document.createElement("option"),b=0;b<q.length;b++){if("quick-reports"===q[b].tab&&(a.text=q[b].name,a.value=q[b].url,r().add(a)),"my-team-folders"!==q[b].tab)return!1;a.text=q[b].name,a.value=q[b].url,r().add(a)}},K=function(a){a.preventDefault();var b=a.target,c=w(b);(13===a.keyCode||32===a.keyCode)&&(location.hash="panel-"+c.replace("#",""))},L=function(a){(46===a.keyCode||8===a.keyCode)&&F()},M=function(){localStorage.getItem("storageReports")?(UTILS.removeClass(t(),"activeSet"),UTILS.removeClass(u(),"activeRep"),""!==m.innerHTML&&(UTILS.qs("#tabQ").src=m.options[m.selectedIndex].value),""!==n.innerHTML&&(UTILS.qs("#tabM").src=n.options[n.selectedIndex].value)):(UTILS.addClass(t(),"activeSet"),UTILS.addClass(u(),"activeRep"),n.style.display="none",m.style.display="none")};y(),J(),s(),M(),UTILS.addEvent(o,"click",A),UTILS.addEvent(p,"click",A),UTILS.addEvent(e,"click",B),UTILS.addEvent(f,"click",B),UTILS.addEvent(c,"click",C),UTILS.addEvent(b,"click",z),UTILS.addEvent(g,"click",D),UTILS.addEvent(h,"click",D),UTILS.addEvent(b,"keypress",K),UTILS.addEvent(window,"hashchange",y),UTILS.addEvent(r(),"change",function(){I(this)})}();
//# sourceMappingURL=main.min.js.map