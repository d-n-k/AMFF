/*! test 18-01-2015 */

!function(a){"use strict";a.ajax({url:"data/config.json",dataType:"json"}).done(function(a){console.log(a),a&&""!==a&&(d.removeClass("hidden"),d.text(a.notification),W(a))}).fail(function(a){d.addClass("hidden"),d.text(a)});var b,c=a(".tab-hdrs"),d=a(".notifications").eq(0),e=a(".expand1"),f=a(".expand2"),g=a(".expand3"),h=a(".expand4"),i=a('a[role="tab"]'),j=a(".cancel_btnQ"),k=a(".cancel_btnM"),l=a(".submit_btnQ"),m=a(".submit_btnM"),n=a("input[type=text]"),o=a("input[type=url]"),p=a("#quick-reports"),q=a("#fmy-folders"),r=a("#my-team-folders"),s=[],t=a("#choose-report-selectQ"),u=a("#choose-report-selectM"),v=a(".settingsQ"),w=a(".settingsM"),x=JSON.parse(localStorage.getItem("storageReports"))||{},y=function(){return a(p.attr("class").indexOf("active")>-1?"#choose-report-selectQ":"#choose-report-selectM")},z=function(){return a(p.attr("class").indexOf("active")>-1?"#tabQ":r.attr("class").indexOf("active")>-1?"#tabM":q.attr("class").indexOf("active")>-1?"#tab2":"#tab4")},A=function(){return a(p.attr("class").indexOf("active")>-1?".settingsQ":".settingsM")},B=function(){return a(p.attr("class").indexOf("active")>-1?".content-reportsQ":".content-reportsM")},C=function(){return a(p.attr("class").indexOf("active")>-1?".site-nameQ":".site-nameM")},D=function(a){return a.attr("href").split("#")[1]},E=function(a){var b=D(a),c=document.getElementById(b);return c},F=function(){var b=location.hash.replace("panel-","");""===b&&(b=i[0].getAttribute("href"));for(var c=0;c<i.length;c++){var d=i.eq(c),e=D(d),f=E(d);a(d).removeClass("active").attr("aria-selected","true"),a(f).removeClass("active").attr("aria-selected","false"),a(f).attr("aria-hidden","false"),a(d).attr("aria-hidden","false"),b==="#"+e&&(a(d).addClass("active").attr("aria-selected","true"),a(f).addClass("active").attr("aria-selected","true"),a(f).attr("aria-hidden","false"),a(d).attr("aria-hidden","false"))}A(),B(),C(),y(),z(),(""!==t.html()||""!==u.html())&&(a(A()).removeClass("activeSet"),a(B()).removeClass("activeRep"))},G=function(b){b.preventDefault();var c=a(b.target),d=D(c);location.hash="panel-"+d.replace("#","")},H=function(b){b.preventDefault();var c=a(b.target);c.toggleClass("activeSet"),B().toggleClass("activeRep"),C().focus()},I=function(a){a.preventDefault(),A().removeClass("activeSet"),B().removeClass("activeRep")},J=function(b){b.preventDefault();var c=z(),d=a(c).attr("src");window.open(d,"_blank"),window.focus()},K=function(b){b.preventDefault();for(var c=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,d=0;d<n.length;d++)""!==n.eq(d).val()&&""===o.eq(d).val()?(o.eq(d).addClass("invalid"),o.eq(d).focus()):""===n.eq(d).val()&&""!==o.eq(d).val()?(n.eq(d).addClass("invalid"),n.eq(d).focus()):""!==n.eq(d).val()&&""!==o.eq(d).val()&&(n.eq(d).removeClass("invalid"),o.eq(d).removeClass("invalid"),"http"!==o.eq(d).val().substring(0,4)&&o.eq(d).val("http://"+o.eq(d).val()),c.test(o.eq(d).val())?(o.eq(d).removeClass("invalid"),-1===p.attr("class").indexOf("active")&&d>2&&(L(y(),n[d].value,o[d].value),O(n[d],o[d]),P(y())),p.attr("class").indexOf("active")>-1&&2>=d&&(L(y(),n[d].value,o[d].value),O(n[d],o[d]),P(y())),y().show()):n.eq(d).addClass("invalid"),a(A()).removeClass("activeSet"),a(B()).removeClass("activeRep")),n.eq(d).keydown(U),a(A()).removeClass("activeSet"),a(B()).removeClass("activeRep");a(A()).removeClass("activeSet"),a(B()).removeClass("activeRep")},L=function(a,b,c){return b&&c?void(p.attr("class").indexOf("active")>-1?R(t,b,c):R(u,b,c)):!1},M=function(){y().find("option:first-child").remove()},N=function(){return Modernizr.localstorage?!0:(console.error("Your browser does not support localStorage"),!1)},O=function(a,c){N()&&(b={tab:z().parent().attr("id"),name:a.value,url:c.value},s.unshift(b),localStorage.setItem("storageReports",JSON.stringify(s)))},P=function(b){if(p.attr("class").indexOf("active")>-1){if(null!==b){var c=b.find("option").val();a("#tabQ").attr("src",c)}}else if(null!==b){var c=b.find("option").val();a("#tabM").attr("src",c)}},Q=function(){for(var a=0;a<x.length;a++)"quick-reports"===x[a].tab&&R(t,x[a].name,x[a].url),"my-team-folders"===x[a].tab&&R(u,x[a].name,x[a].url)},R=function(b,c,d){var e=new Option(c,d);a(e).html(c),b.append(e)},S=function(){for(var a=0;a<n.length;a++)2>=a&&(n.eq(a).val(t.children().eq(a).html()),o.eq(a).val(t.children().eq(a).val()),n.eq(a).keydown(U)),a>2&&(n.eq(a).val(u.children().eq(a-3).html()),o.eq(a).val(u.children().eq(a-3).val()),n.eq(a).keydown(U))},T=function(a){a.preventDefault();var b=a.target,c=D(b);(13===a.keyCode||32===a.keyCode)&&(location.hash="panel-"+c.replace("#",""))},U=function(a){(46===a.keyCode||8===a.keyCode)&&M()},V=function(){localStorage.getItem("storageReports")?(a(A()).removeClass("activeSet"),""!==t.html()&&(a("#tabQ").attr("src",t.find("option").val()),a(A()).removeClass("activeSet")),""!==u.html()&&(a("#tabM").attr("src",u.find("option").val()),a(A()).removeClass("activeSet"),a(B()).removeClass("activeRep"))):(a(A()).addClass("activeSet"),a(B()).addClass("activeRep"),u.hide(),t.hide()),""===t.html()&&(t.hide(),a(A()).addClass("activeSet"),a(B()).addClass("activeRep")),""===u.html()&&(u.hide(),a(A()).addClass("activeSet"),a(B()).addClass("activeRep"))},W=function(b){var c=b.quickActions,d=a("#nav-sections").html(),e=Handlebars.compile(d),f=e(c),g=a("#navigation");g.html(f)};F(),Q(),S(),z(),V(),v.click(H),w.click(H),j.click(I),k.click(I),e.click(J),f.click(J),g.click(J),h.click(J),c.click(G),l.click(K),m.click(K),c.keypress(T),a(window).bind("hashchange",F),a(y()).change(function(){P(a(y()))})}(jQuery);
//# sourceMappingURL=main.min.js.map